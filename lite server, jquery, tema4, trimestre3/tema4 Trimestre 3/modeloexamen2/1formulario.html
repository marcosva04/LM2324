<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validar formulario con jQuery</title>
    <style>
        input {
            margin: 5px 5px;
        }
        span {
            color:red;
        }
    </style>
   <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<body>
    <label>Nombre: </label><input type="text" id="nombre" required> <br>
    <label>Primer Apellido: </label><input type="text" id="apellido1" required><br>
    <label>Segundo Apellido: </label><input type="text" id="apellido2" required><br>
    <label>DNI: </label><input type="text" id="dni" required><br>
    <label>Email: </label><input type="email" id="correo" required><br>
    <label>Contraseña: </label><input type="password" id="password1" required><br>
    <label>Confirmar contraseña: </label><input type="password" id="password2" required><br>

    <label>Descripción: </label><input type="text"><br>
    <label>Fecha de nacimiento: </label><input type="date"><br>
    
    
    <label>Términos y condiciones: </label><input type="checkbox" name="" id="privacidad" required><br>
    <button id="registro">Registrarse</button><span id="errores"></span><br>
    <script>
        $(document).ready(function () {
            $("#registro").click(function(){
                let patronEmail =  /^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/;
                let patronContraseña = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%-_*?&])([A-Za-z\d$@$!%-_*?&]|[^ ]){8,}$/;
                let patronDNI = /^\d{1,8}[A-Za-z]$/;
                let nombre = $("#nombre").val();
                let apellido1 = $("#apellido1").val();
                let apellido2 = $("#apellido2").val();
                let dni = $("#dni").val();
                let correo = $("#correo").val();
                let contra1 = $("#password1").val();
                let contra2 = $("#password2").val();
                let privacidad = $("#privacidad").val();

                $("#errores").text(""); // Quita lo anterior y vuelve a comprobar
                if (nombre==""){
                    $("#errores").append("El campo nombre es necesario para rellenar el formulario" + '<br>');
                }
                else {
                    $("#errores").append(""); 
                }
                if (apellido1 == "")
                {
                    $("#errores").append("El campo apellido1 es necesario para rellenar el formulario" + '<br>');
                }
                else{
                    $("#errores").append("");
                }
                if (apellido2 == "")
                {
                    $("#errores").append("El campo apellido2 es necesario para rellenar el formulario" + '<br>');
                }
                else{
                    $("#errores").append("");
                }
                if (dni=="")
                {
                    $("#errores").append("El campo DNI es necesario para rellenar el formulario" + '<br>')
                }
                else{
                    // No está vacio
                    if (patronDNI != dni){
                        // No encaja con el patron de DNI
                        $("#errores").append("Formato de DNI no válido" + '<br>');
                    }
                    else{
                        $("#errores").append("");
                    }
                }
                if (correo=="")
                {
                    $("#errores").append("El campo correo es necesario para rellenar el formulario" + '<br>')
                }
                else{
                    // El correo no es la cadena vacía
                    if (!patronEmail.append(correo)){
                        // No encaja con el patron de Email
                        $("#errores").append("Formato no válido de correo" + '<br>');
                    }
                    else{
                        $("#errores").append("");
                    }
                }
                if (contra1!=contra2){
                    $("#errores").append("Las contraseñas deben coincidir" + '<br>');
                }
                else{
                    // Las contraseñas son iguales
                    if (patronContraseña != contra1 | patronContraseña != contra2){
                        $("#errores").append("La contraseña no cumple con requisitos. Longitud mínima 8." + '<br>');
                      }
                    else{
                        $("#errores").append("");
                    }
                }
                if (!privacidad){
                    $("#errores").append("Debe aceptar políticas de privacidad" + '<br>')
                }
                else{
                    $("#errores").append("")
                }
            })
        });
    </script>
</body>
</html>